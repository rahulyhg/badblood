<ion-view view-title="Register">
   <div class="tabs-striped tabs-background-positive tabs-color-light ">
      <div class="tabs c-tab">
         <a class="tab-item {{classa}}" ng-click="tabchange('new',1)">
            <span>New User</span>
         </a>
         <a class="tab-item {{classb}}" ng-click="tabchange('already',2)">
            <span>Already Member</span>
         </a>
      </div>
   </div>
   <ion-content class="has-tabs-top">
      <div class="video" ng-show="tab=='new'">
         <div class="pro-back ">
            <div class="user-back post" ng-style="{'background-image':'url(img/user1.png)'}" ng-if="!register.image"></div>
            <div class="user-back post" ng-style="{'background-image':'url({{register.image|uploadpath}})'}" ng-if="register.image"></div>
            <button class="button button-small button-assertive posts" ng-click="uploadProfilePic();">
               +
            </button>
         </div>
         <div class="login-form m40">
            <form name="myForm" novalidate>
               <div class="list regi-user">
                  <label class="item item-input">
                     <input type="text" placeholder="First Name*" name="fname" ng-model="register.firstname" required>
                  </label>
                  <p class="colpad" ng-if="myForm.fname.$error.required && myForm.fname.$touched">Firstname is required</p>
                  <label class="item item-input">
                     <input type="text" placeholder="Middle Name*" name="mname" ng-model="register.middlename" required>
                  </label>
                  <p class="colpad" ng-if="myForm.mname.$error.required && myForm.mname.$touched">Middlename is required</p>
                  <label class="item item-input">
                     <input type="text" placeholder="Last Name*" name="lname" ng-model="register.lastname" required>
                  </label>
                  <p class="colpad" ng-if="myForm.lname.$error.required && myForm.lname.$touched">Lastname is required</p>
                  <!-- <label class="item item-input">
                     <input type="text" placeholder="Family id" ng-model="register.familyid">
                  </label> -->
                  <label class="item item-input item-select">
                     <div class="input-label">
                        Gender*
                     </div>
                     <select name="gender" ng-model="register.gender" required>
                        <option value="">Please Select</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                     </select>
                  </label>
                  <p class="colpad" ng-if="myForm.gender.$error.required && myForm.gender.$touched">Gender is required</p>
                  <label class="item item-input item-select">
                     <div class="input-label">
                        Blood Group*
                     </div>
                     <select name="bloodgrp" ng-model="register.bloodgroup" required>
                        <option value="">Please Select</option>
                        <option value="A+">A +</option>
                        <option value="A-">A -</option>
                        <option value="B+">B +</option>
                        <option value="B-">B -</option>
                        <option value="AB+">AB +</option>
                        <option value="AB-">AB -</option>
                        <option value="O+">O +</option>
                        <option value="O-">O -</option>
                     </select>
                  </label>
                  <p class="colpad" ng-if="myForm.bloodgrp.$error.required && myForm.bloodgrp.$touched">Blood Group is required</p>
                  <label class="item item-input">
                     <input type="text" onfocus="(this.type='date')" placeholder="Birth Date*" name="birthdate" ng-model="register.birthdate" required ng-change="calcAge();">
                  </label>
                  <p class="colpad" ng-if="myForm.birthdate.$error.required && myForm.birthdate.$touched">BIrthdate is required</p>
                  <label class="item item-input">
                     <input type="number" placeholder="Age*" name="age" ng-model="register.age" required readonly>
                  </label>
                  <p class="colpad" ng-if="myForm.age.$error.required && myForm.age.$touched">Age is required</p>
                  <label class="item item-input">
                     <input type="text" placeholder="Village" ng-model="register.village">
                  </label>
                  <label class="item item-input">
                     <input type="text" placeholder="Address 1*" name="add1" ng-model="register.address1" required>
                  </label>
                  <p class="colpad" ng-if="myForm.add1.$error.required && myForm.add1.$touched">Address 1 is required</p>
                  <label class="item item-input">
                     <input type="text" placeholder="Address 2" ng-model="register.address2">
                  </label>
                  <label class="item item-input">
                     <input type="text" placeholder="Area" ng-model="register.area">
                  </label>
                  <label class="item item-input">
                     <input type="text" placeholder="City*" name="city" ng-model="register.city" required>
                  </label>
                  <p class="colpad" ng-if="myForm.city.$error.required && myForm.city.$touched">City is required</p>
                  <label class="item item-input">
                     <input type="tel" placeholder="Pincode*" name="pincode" ng-model="register.pincode" required ng-minlength="6" ng-maxlength="6" maxlength="6" only-digits ng-trim="false">
                  </label>
                  <p class="colpad" ng-if="myForm.pincode.$error.required && myForm.pincode.$touched">Pincode is required</p>
                  <p class="colpad" ng-if="myForm.pincode.$error.minlength || myForm.pincode.$error.maxlength">Please enter valid pincode</p>
                  <label class="item item-input">
                     <input type="tel" placeholder="Mobile Number*" name="mobile" ng-model="register.mobile" required ng-minlength="10" ng-maxlength="10" maxlength="10" only-digits ng-trim="false">
                  </label>
                  <p class="colpad" ng-if="myForm.mobile.$error.required && myForm.mobile.$touched">Mobile no. is required</p>
                  <p class="colpad" ng-if="myForm.mobile.$error.minlength || myForm.mobile.$error.maxlength">Please enter valid mobile no.</p>
               </div>
               <div class="login-footer m40 text-center">
                  <button class="button primary-btn button-positive" ng-disabled="myForm.$invalid" ng-click="showOtp(register.mobile,register)">
                     Submit
                  </button>
               </div>
            </form>
            <!-- <button class="button primary-btn button-positive" ng-click="showOtp('9029145077')">
                    Submit
                </button> -->
         </div>
      </div>
      <div class="video" ng-show="tab=='already'">
         <div class="already text-center">
            <h4 style="color:#E62739">Enter Your Donor Id</h4>
            <div class="login-form padding regi-user">
               <div class="list login-user">
                  <label class="item item-input">
                     <input type="text" placeholder="First Name" ng-model="search.firstname">
                  </label>
               </div>
               <div class="list login-user">
                  <label class="item item-input">
                     <input type="text" placeholder="Middle Name" ng-model="search.middlename">
                  </label>
               </div>
               <div class="list login-user">
                  <label class="item item-input">
                     <input type="text" placeholder="Last Name" ng-model="search.lastname">
                  </label>
               </div>
               <div class="list login-user">
                  <label class="item item-input">
                     <input type="text" placeholder="Donar ID" ng-model="search.donorid">
                  </label>
               </div>
            </div>
            <button class="button primary-btn button-positive m12" ng-click="getSearchResults()">
               Submit
            </button>
            <div class="text-center m40" ng-if="searchResults.length==0">
               <h4>No Results Found</h4>
            </div>
            <div class="text-center m40" ng-if="searchResults.length>0">
               <h4>Your Search Result</h4>
            </div>
            <div class="noti-list f-title" ng-if="searchResults.length>0">
               <div class="list" ng-repeat="search in searchResults">
                  <a class="item item-avatar" ng-click="showOtp(search.mobile,search)" style="padding: 15px 0 30px 72px;">
                     <div class="noti-img" ng-style="{'background-image':'url(img/user1.png)'}" ng-if="!search.image"></div>
                     <div class="noti-img" ng-style="{'background-image':'url({{search.image|uploadpath}})'}" ng-if="search.image"></div>
                     <h1 class="pad-ltp">{{search.name}}</h1>
                  </a>
               </div>
            </div>
         </div>
      </div>
   </ion-content>
</ion-view>
